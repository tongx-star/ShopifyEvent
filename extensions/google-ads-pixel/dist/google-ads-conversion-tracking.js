(()=>{var p="WebPixel::Render";var l=a=>shopify.extend(p,a);l(({analytics:a,settings:c})=>{let i=c.conversion_id,d=c.purchase_label,u=c.add_to_cart_label,g=c.begin_checkout_label,f=c.enhanced_conversions;if(!i||!d){console.warn("[Google Ads Pixel] Missing required configuration");return}function h(){if(window.gtag){m();return}let e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${i}`,e.onload=m,e.onerror=()=>console.error("[Google Ads Pixel] Failed to load gtag"),document.head.appendChild(e)}function m(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}window.gtag=window.gtag||e,e("js",new Date),e("config",i),console.log(`[Google Ads Pixel] Initialized with ID: ${i}`)}function s(e){return typeof e=="number"?e:typeof e=="string"&&parseFloat(e)||0}a.subscribe("checkout_completed",e=>{var r;if(d)try{let o=e.data.checkout,t={send_to:`${i}/${d}`,value:s(o.totalPrice.amount),currency:o.currencyCode,transaction_id:((r=o.order)==null?void 0:r.id)||o.token};if(f&&(o.email&&(t.email=o.email),o.phone&&(t.phone_number=o.phone),o.billingAddress)){let n=o.billingAddress;n.firstName&&(t.first_name=n.firstName),n.lastName&&(t.last_name=n.lastName),n.address1&&(t.address={street:n.address1,city:n.city,region:n.province,postal_code:n.zip,country:n.country})}window.gtag("event","conversion",t),console.log("[Google Ads Pixel] Purchase conversion sent:",t)}catch(o){console.error("[Google Ads Pixel] Purchase event error:",o)}}),u&&a.subscribe("product_added_to_cart",e=>{try{let r=e.data.cartLine,o=r.merchandise,t={send_to:`${i}/${u}`,value:s(r.cost.totalAmount.amount),currency:r.cost.totalAmount.currencyCode,items:[{item_id:o.id,item_name:o.product.title,item_variant:o.title,quantity:r.quantity,price:s(o.price.amount)}]};window.gtag("event","conversion",t),console.log("[Google Ads Pixel] Add to cart conversion sent:",t)}catch(r){console.error("[Google Ads Pixel] Add to cart event error:",r)}}),g&&a.subscribe("checkout_started",e=>{try{let r=e.data.checkout,o={send_to:`${i}/${g}`,value:s(r.totalPrice.amount),currency:r.currencyCode,items:r.lineItems.map(t=>({item_id:t.variant.id,item_name:t.variant.product.title,item_variant:t.variant.title,quantity:t.quantity,price:s(t.variant.price.amount)}))};window.gtag("event","conversion",o),console.log("[Google Ads Pixel] Begin checkout conversion sent:",o)}catch(r){console.error("[Google Ads Pixel] Begin checkout event error:",r)}}),h()});})();
//# sourceMappingURL=google-ads-conversion-tracking.js.map
